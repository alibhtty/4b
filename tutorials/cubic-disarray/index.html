<!doctype html>
<html>
  <head>
    <title>Cubic Disarray | Generative Artistry</title>

    <meta charset="utf-8">
    
    <meta name="description" content="Georg Nees was one of the pioneers of computer art. Cubic disarray is a perfect example of how generative work can be simplistic and powerful at the same time. Generative art tutorials, news and love.">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet">
    <link href="../../css/style.css" rel="stylesheet">
    <link href="../../css/syntax-highlighting.css" rel="stylesheet">
  </head>
  <body class="tutorial">

    <header>
  <div class="wrapper">
    <a class="logo" href="../../index.html">generative artistry</a>
    <div class="links">
      <a href="../index.html">tutorials</a> • <a href="../../episodes/index.html">podcast</a> • <a href="../../index.xml.rss">rss</a>
    </div>
  </div>
</header>

    <div class="tutorial-post">
      
      <div class="sidebar tutorial-sidebar">

        <div id="tutorial-code" class="tutorial-code"></div>
        
        <div class="tutorial-send-code">
          <span>➵</span>
        </div>

        <iframe class="tutorial-frame" src="../../utils/injectable-iframe.html" sandbox="allow-same-origin allow-scripts"></iframe>

      </div>

      <div class="tutorial-content">
        

<h1 id="cubic-disarray">Cubic Disarray</h1>

<p><a href="https://en.wikipedia.org/wiki/Georg_Nees">Georg Nees</a>&rsquo; fantastic generative art is a true inspiration. In this tutorial, we&rsquo;re going to build one of his pieces: Cubic Disarray.</p>

<p>The only HTML we have on the page is a <code>&lt;canvas&gt;</code> element at 320&times;320 pixels.</p>

<p>As usual, here is our initial setup. You&rsquo;re not going to see anything render here, because these are the primary lines to setting up the canvas and context which we use to draw. We will also set the size of the canvas and adjust it based on the user&rsquo;s device pixel ratio, or pixel density. This ensures that the final result is crisp on all monitors.</p>

<div class="tmd-trigger" data-from="0">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;canvas&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">context</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s1">&#39;2d&#39;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">size</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">innerWidth</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">dpr</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">devicePixelRatio</span><span class="p">;</span>
<span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="nx">size</span> <span class="o">*</span> <span class="nx">dpr</span><span class="p">;</span>
<span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="nx">size</span> <span class="o">*</span> <span class="nx">dpr</span><span class="p">;</span>
<span class="nx">context</span><span class="p">.</span><span class="nx">scale</span><span class="p">(</span><span class="nx">dpr</span><span class="p">,</span> <span class="nx">dpr</span><span class="p">);</span>
<span class="nx">context</span><span class="p">.</span><span class="nx">lineWidth</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">squareSize</span> <span class="o">=</span> <span class="mi">30</span><span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div>
</div>

<p>We&rsquo;ve also got a variable in there to define the square size, understandably named <code>squareSize</code>.</p>

<p>Now, let&rsquo;s create a function to draw the squares. This function is going to be fairly simple, taking only a width and a height. The position of the squares is going to be handled by another loop.</p>

<div class="tmd-trigger" data-from="13">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">function</span> <span class="nx">draw</span><span class="p">(</span><span class="nx">width</span><span class="p">,</span> <span class="nx">height</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">context</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span>
  <span class="nx">context</span><span class="p">.</span><span class="nx">rect</span><span class="p">(</span><span class="o">-</span><span class="nx">width</span><span class="err">/2, -height/2, width, height);</span>
  <span class="nx">context</span><span class="p">.</span><span class="nx">stroke</span><span class="p">();</span> 
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div>
</div>

<p>So how about we draw something. I&rsquo;m going to loop through and fill the screen  with squares. Here we&rsquo;re using the context <code>save</code>, <code>translate</code> &amp; <code>restore</code> functions to move the context around, and then our draw function above for drawing.</p>

<div class="tmd-trigger" data-from="19">  
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="nx">squareSize</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="nx">size</span> <span class="o">-</span> <span class="nx">squareSize</span><span class="p">;</span> <span class="nx">i</span> <span class="o">+=</span> <span class="nx">squareSize</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">j</span> <span class="o">=</span> <span class="nx">squareSize</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&lt;=</span> <span class="nx">size</span> <span class="o">-</span> <span class="nx">squareSize</span><span class="p">;</span> <span class="nx">j</span><span class="o">+=</span> <span class="nx">squareSize</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">context</span><span class="p">.</span><span class="nx">save</span><span class="p">();</span>
    <span class="nx">context</span><span class="p">.</span><span class="nx">translate</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">j</span><span class="p">);</span>
    <span class="nx">draw</span><span class="p">(</span><span class="nx">squareSize</span><span class="p">,</span> <span class="nx">squareSize</span><span class="p">);</span>
    <span class="nx">context</span><span class="p">.</span><span class="nx">restore</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div>
</div>

<p>And there we have it, squares! Now we have the &ldquo;cubic&rdquo; part down, we can get to the disarray.</p>

<p>Introducing random is fairly simple: first we&rsquo;ll give ourselves some variables, one for how much the squares translate out of their position, one for how much they rotate, and one for how much to offset the entire drawing to get it centered on the canvas.</p>

<div class="tmd-trigger" data-from="11" data-to="11">  
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">randomDisplacement</span> <span class="o">=</span> <span class="mi">15</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">rotateMultiplier</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">offset</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div>
</div>

<p>We can use those variables, then, to create the random translations and rotations. They&rsquo;re set up here to be larger numbers as they reach towards the end of the canvas.</p>

<div class="tmd-trigger" data-from="24" data-to="24" data-indent="2">  
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">plusOrMinus</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mf">0.5</span> <span class="o">?</span> <span class="o">-</span><span class="mi">1</span> <span class="o">:</span> <span class="mi">1</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">rotateAmt</span> <span class="o">=</span> <span class="nx">j</span> <span class="sr">/ size * Math.PI /</span> <span class="mi">180</span> <span class="o">*</span> <span class="nx">plusOrMinus</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="nx">rotateMultiplier</span><span class="p">;</span>

<span class="nx">plusOrMinus</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mf">0.5</span> <span class="o">?</span> <span class="o">-</span><span class="mi">1</span> <span class="o">:</span> <span class="mi">1</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">translateAmt</span> <span class="o">=</span> <span class="nx">j</span> <span class="err">/ size * plusOrMinus * Math.random() * randomDisplacement;</span>
  
</code></pre></td></tr></table>
</div>
</div>
</div>

<p>Now, we apply the translations and rotations. (Suddenly all that setup paid off!)</p>

<div class="tmd-trigger" data-from="31" data-to="32" data-indent="2">  
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">context</span><span class="p">.</span><span class="nx">translate</span><span class="p">(</span><span class="nx">i</span> <span class="o">+</span> <span class="nx">translateAmt</span> <span class="o">+</span> <span class="nx">offset</span><span class="p">,</span> <span class="nx">j</span> <span class="o">+</span> <span class="nx">offset</span><span class="p">);</span>
<span class="nx">context</span><span class="p">.</span><span class="nx">rotate</span><span class="p">(</span><span class="nx">rotateAmt</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div>
</div>

<p>And there we have it: cubic disarray!</p>

        <form action="https://codepen.io/pen/define" method="POST" target="_blank">
  <input type="hidden" name="data" value='{}'>
  ↪ You can edit the code above, and have it run by pressing the arrow between the code and demo, but if you like, you can also play around a little with this code <input type="submit" id="codepen-prefil" value="on CodePen">
</form>
      </div>
    </div>
    
    <footer>
	<div class="wrapper">
		<div class="links">
			By <a href="https://ruthjohn.com/" target="_blank" rel="noopener noreferrer">ruth</a> &
			<a href="https://tholman.com" target="_blank" rel="noopener noreferrer">tim</a> •
			<a href="https://github.com/tholman/generative-artistry/">source</a>
		</div>
    <a href="https://www.buymeacoffee.com/tholman" target="_blank" class="coffee" rel="noopener noreferrer">☕</a>
	</div>
</footer>


    <script src="../../js/tmd.js"></script>
    <script src="../../js/codepen-prefil.js"></script>
    <script src="../../js/favicon.js"></script>
    <script src="../../js/libs/monaco-editor/min/vs/loader.js"></script>

    <script>

        require.config({ paths: { 'vs': '/js/libs/monaco-editor/min/vs' }});
        var tmd, editor;

        require(['vs/editor/editor.main'], function() {
          editor = monaco.editor.create(document.querySelector('#tutorial-code'), {
            value: [
              '// Welcome to Tutorial Markdown.',
              '// start scrolling, and we\'ll',
              '// write the code.'
            ].join('\n'),
            lineNumbersMinChars: 2,
            scrollBeyondLastLine: false,
            language: 'javascript',
            fontSize: 10,
            minimap: { enabled: false },
            hover: false,
            occurrencesHighlight: false
          })

          editor.getModel().updateOptions({ tabSize: 2 })

          tmd = new TutorialMarkdown({
            editor: {
              editor: editor,
               api: monaco
             },
             iframe: document.querySelector('.tutorial-frame'),
             markdownSelector: {
               blockSelector: '.tmd-trigger', 
               codeSelector: '.lntd:nth-child(2) .language-js' 
             }
          })
        })

        document.querySelector('.tutorial-send-code').addEventListener('click', function() {
          tmd.sendCode()
        })
    </script>

    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-121043299-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-121043299-1');
</script>
  </body>
</html>
