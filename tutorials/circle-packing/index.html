<!doctype html>
<html>
  <head>
    <title>Circle Packing | Generative Artistry</title>

    <meta charset="utf-8">
    
    <meta name="description" content="Packing circles into a tight space gives a beautiful effect, and it&#39;s not nearly as complex as it looks! Generative art tutorials, news and love.">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet">
    <link href="../../css/style.css" rel="stylesheet">
    <link href="../../css/syntax-highlighting.css" rel="stylesheet">
  </head>
  <body class="tutorial">

    <header>
  <div class="wrapper">
    <a class="logo" href="../../index.html">generative artistry</a>
    <div class="links">
      <a href="../index.html">tutorials</a> • <a href="../../episodes/index.html">podcast</a> • <a href="../../index.xml.rss">rss</a>
    </div>
  </div>
</header>

    <div class="tutorial-post">
      
      <div class="sidebar tutorial-sidebar">

        <div id="tutorial-code" class="tutorial-code"></div>
        
        <div class="tutorial-send-code">
          <span>➵</span>
        </div>

        <iframe class="tutorial-frame" src="../../utils/injectable-iframe.html" sandbox="allow-same-origin allow-scripts"></iframe>

      </div>

      <div class="tutorial-content">
        

<h1 id="circle-packing">Circle Packing</h1>

<p>Circle packing is such a fantastic effect, it looks infinitely complex, while also being mathematically beautiful. In this tutorial, we&rsquo;re going to create a circle packing effect&hellip; Interestingly, this is a good example of an effect that isn&rsquo;t particularly efficient to run, but at the same time, will still be very quick!</p>

<p>As usual, we&rsquo;re going to begin with a small, clean canvas. We will also set the size of the canvas and adjust it based on the user&rsquo;s device pixel ratio, or pixel density. This ensures that the final result is crisp on all monitors.</p>

<div class="tmd-trigger" data-from="0">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;canvas&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">context</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s1">&#39;2d&#39;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">size</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">innerWidth</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">dpr</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">devicePixelRatio</span><span class="p">;</span>
<span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="nx">size</span> <span class="o">*</span> <span class="nx">dpr</span><span class="p">;</span>
<span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="nx">size</span> <span class="o">*</span> <span class="nx">dpr</span><span class="p">;</span>
<span class="nx">context</span><span class="p">.</span><span class="nx">scale</span><span class="p">(</span><span class="nx">dpr</span><span class="p">,</span> <span class="nx">dpr</span><span class="p">);</span>

<span class="nx">context</span><span class="p">.</span><span class="nx">lineWidth</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
  
</code></pre></td></tr></table>
</div>
</div>
</div>

<p>Now, I&rsquo;m going to explain a little about our process, so we know which variables we will need. You&rsquo;ll be able to see here that it&rsquo;s not the most efficient, but it really gets the job done.</p>

<p>Our steps will be:</p>

<ol>
<li>Create a new <code>Circle</code></li>
<li>Check to see if the circle collides with any other circles we have.</li>
<li>If it doesn&rsquo;t collide, we will grow it slightly, and then check again if it collides.</li>
<li>Repeat these steps until we have a collision, or we reach a &ldquo;max size&rdquo;</li>
<li>Create another circle and repeat <code>x</code> times.</li>
</ol>

<p>So, we have an array of <code>circles</code>, a <code>totalCircles</code>, a min &amp; max <code>circleSize</code> and a <code>createCircleAttempts</code>. Let&rsquo;s get this in code.</p>

<div class="tmd-trigger" data-from="12">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">circles</span> <span class="o">=</span> <span class="p">[];</span>
<span class="kd">var</span> <span class="nx">minRadius</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">maxRadius</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">totalCircles</span> <span class="o">=</span> <span class="mi">500</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">createCircleAttempts</span> <span class="o">=</span> <span class="mi">500</span><span class="p">;</span>
 
</code></pre></td></tr></table>
</div>
</div>
</div>

<p>Now we will spec out our process. We will make a <code>createCircle</code> and <code>doesCircleHaveACollision</code> function, and then fill it in with our goals&hellip; including calling the <code>createAndDrawCircle</code> function once for each of our <code>totalCircles</code> variable.</p>

<div class="tmd-trigger" data-from="18">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">function</span> <span class="nx">createAndDrawCircle</span><span class="p">()</span> <span class="p">{</span>
  
  <span class="c1">// Loop through from 0 to createCircleAttempts
</span><span class="c1"></span>  <span class="c1">// trying to create a circle.
</span><span class="c1"></span>
  <span class="c1">// Once we have a circle created, grow it until
</span><span class="c1"></span>  <span class="c1">// it hits another, or reaches max size.
</span><span class="c1"></span>
  <span class="c1">// Draw the circle
</span><span class="c1"></span><span class="p">}</span>

<span class="kd">function</span> <span class="nx">doesCircleHaveACollision</span><span class="p">(</span><span class="nx">circle</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Return true of false depending on whether the circle collides with another.
</span><span class="c1"></span>
  <span class="c1">// but return false for now
</span><span class="c1"></span>  <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">for</span><span class="p">(</span> <span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">totalCircles</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>  
  <span class="nx">createAndDrawCircle</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div>
</div>

<p>This is the fun part, we can go through our functions and fill them in. If we tackle this in a step by step way, it will flow out really well.</p>

<p>First, we&rsquo;ll start with creating a circle object, we&rsquo;ll give it an <code>x</code>, <code>y</code> and a <code>radius</code></p>

<div class="tmd-trigger" data-from="20" data-to="22">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js">  <span class="kd">var</span> <span class="nx">newCircle</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">x</span><span class="o">:</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="nx">size</span><span class="p">),</span>
    <span class="nx">y</span><span class="o">:</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="nx">size</span><span class="p">),</span>
    <span class="nx">radius</span><span class="o">:</span> <span class="nx">minRadius</span>
  <span class="p">};</span>
</code></pre></td></tr></table>
</div>
</div>
</div>

<p>Now, we&rsquo;ll add it to our list of circles, and draw it&hellip; we didn&rsquo;t really need to do this just yet, but being able to see what we&rsquo;re coding render out really helps with the process.</p>

<div class="tmd-trigger" data-from="29" data-to="30">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js">  <span class="nx">circles</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">newCircle</span><span class="p">);</span>
  <span class="nx">context</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span>
  <span class="nx">context</span><span class="p">.</span><span class="nx">arc</span><span class="p">(</span><span class="nx">newCircle</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">newCircle</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span> <span class="nx">newCircle</span><span class="p">.</span><span class="nx">radius</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">);</span>
  <span class="nx">context</span><span class="p">.</span><span class="nx">stroke</span><span class="p">();</span> 
</code></pre></td></tr></table>
</div>
</div>
</div>

<p>Awesome, and there we have it, tiny circles all over our screen. Next, we can look at growing them. We will do this 1 unit at a time, and when they collide, we&rsquo;ll take one step back, and break out of the loop.</p>

<div class="tmd-trigger" data-from="26" data-to="28">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js">  <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">radiusSize</span> <span class="o">=</span> <span class="nx">minRadius</span><span class="p">;</span> <span class="nx">radiusSize</span> <span class="o">&lt;</span> <span class="nx">maxRadius</span><span class="p">;</span> <span class="nx">radiusSize</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">newCircle</span><span class="p">.</span><span class="nx">radius</span> <span class="o">=</span> <span class="nx">radiusSize</span><span class="p">;</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">doesCircleHaveACollision</span><span class="p">(</span><span class="nx">newCircle</span><span class="p">)){</span>
      <span class="nx">newCircle</span><span class="p">.</span><span class="nx">radius</span><span class="o">--</span><span class="p">;</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span> 
  <span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div>
</div>

<p>Wow, what a mess we&rsquo;ve made! Of course we know the reason for this. Currently our <code>doesCircleHaveACollision</code> function always returns <code>false</code> &hellip; we&rsquo;ll need to fill that in.</p>

<p>The way that we tell if circles have a collision, is a little bit of trigonometry. We&rsquo;re going to loop through each of the circles that are drawn and compare them to the current circle being drawn. If their radii combined, is greater than the distance between each of their centers, then we know there&rsquo;s a collision.</p>

<p>To get the distance between the two center points, we will use <code>pythagoras' theorem</code> (whoa, that high school math coming in handy!)</p>

<div class="tmd-trigger" data-from="41" data-to="44">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js">  <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">circles</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">otherCircle</span> <span class="o">=</span> <span class="nx">circles</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
    <span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">circle</span><span class="p">.</span><span class="nx">radius</span> <span class="o">+</span> <span class="nx">otherCircle</span><span class="p">.</span><span class="nx">radius</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">circle</span><span class="p">.</span><span class="nx">x</span> <span class="o">-</span> <span class="nx">otherCircle</span><span class="p">.</span><span class="nx">x</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="nx">circle</span><span class="p">.</span><span class="nx">y</span> <span class="o">-</span> <span class="nx">otherCircle</span><span class="p">.</span><span class="nx">y</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">a</span> <span class="o">&gt;=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">((</span><span class="nx">x</span><span class="o">*</span><span class="nx">x</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="nx">y</span><span class="o">*</span><span class="nx">y</span><span class="p">)))</span> <span class="p">{</span>
      <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  
</code></pre></td></tr></table>
</div>
</div>
</div>

<p>Almost there! But another small gotcha, when we&rsquo;re creating our circles, there&rsquo;s also a chance that they&rsquo;re appearing <em>inside</em> others.</p>

<p>We&rsquo;re going to use a loop in the creation area now as well, its a little inefficient to randomly guess positions, but really at the end of the day, unless we were doing millions of circles, we won&rsquo;t see any slow down.</p>

<p>If the circle doesn&rsquo;t find a safe place to draw, the attempt is abandoned.</p>

<div class="tmd-trigger" data-from="20" data-to="25">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js">  <span class="kd">var</span> <span class="nx">newCircle</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">circleSafeToDraw</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">tries</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">tries</span> <span class="o">&lt;</span> <span class="nx">createCircleAttempts</span><span class="p">;</span> <span class="nx">tries</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">newCircle</span> <span class="o">=</span> <span class="p">{</span>
      <span class="nx">x</span><span class="o">:</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="nx">size</span><span class="p">),</span>
      <span class="nx">y</span><span class="o">:</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="nx">size</span><span class="p">),</span>
      <span class="nx">radius</span><span class="o">:</span> <span class="nx">minRadius</span>
    <span class="p">}</span>
    
    <span class="k">if</span><span class="p">(</span><span class="nx">doesCircleHaveACollision</span><span class="p">(</span><span class="nx">newCircle</span><span class="p">))</span> <span class="p">{</span>
      <span class="k">continue</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">circleSafeToDraw</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">circleSafeToDraw</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span><span class="p">;</span>
  <span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div>
</div>

<p>Wow, now we&rsquo;ve got some beautiful circles, all packed in! There&rsquo;s only one little step more to do, and that is to trigger a collision when they hit the wall as well as each other. We&rsquo;ll break that into two if statements, one checking the top and bottom, and one checking the left and right.</p>

<div class="tmd-trigger" data-from="67" data-to="67">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js">  <span class="k">if</span><span class="p">(</span><span class="nx">circle</span><span class="p">.</span><span class="nx">x</span> <span class="o">+</span> <span class="nx">circle</span><span class="p">.</span><span class="nx">radius</span> <span class="o">&gt;=</span> <span class="nx">size</span> <span class="o">||</span>
     <span class="nx">circle</span><span class="p">.</span><span class="nx">x</span> <span class="o">-</span> <span class="nx">circle</span><span class="p">.</span><span class="nx">radius</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
  <span class="p">}</span>
    
  <span class="k">if</span><span class="p">(</span><span class="nx">circle</span><span class="p">.</span><span class="nx">y</span> <span class="o">+</span> <span class="nx">circle</span><span class="p">.</span><span class="nx">radius</span> <span class="o">&gt;=</span> <span class="nx">size</span> <span class="o">||</span>
      <span class="nx">circle</span><span class="p">.</span><span class="nx">y</span> <span class="o">-</span> <span class="nx">circle</span><span class="p">.</span><span class="nx">radius</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
  <span class="p">}</span>
  
</code></pre></td></tr></table>
</div>
</div>
</div>

<p>And there we have it! It&rsquo;s not the prettiest code, but it&rsquo;s a great example of how some complex things can be reasoned out, thought about, and stepped through with relative ease &amp; a little math.</p>

        <form action="https://codepen.io/pen/define" method="POST" target="_blank">
  <input type="hidden" name="data" value='{}'>
  ↪ You can edit the code above, and have it run by pressing the arrow between the code and demo, but if you like, you can also play around a little with this code <input type="submit" id="codepen-prefil" value="on CodePen">
</form>
      </div>
    </div>
    
    <footer>
	<div class="wrapper">
		<div class="links">
			By <a href="https://ruthjohn.com/" target="_blank" rel="noopener noreferrer">ruth</a> &
			<a href="https://tholman.com" target="_blank" rel="noopener noreferrer">tim</a> •
			<a href="https://github.com/tholman/generative-artistry/">source</a>
		</div>
    <a href="https://www.buymeacoffee.com/tholman" target="_blank" class="coffee" rel="noopener noreferrer">☕</a>
	</div>
</footer>


    <script src="../../js/tmd.js"></script>
    <script src="../../js/codepen-prefil.js"></script>
    <script src="../../js/favicon.js"></script>
    <script src="../../js/libs/monaco-editor/min/vs/loader.js"></script>

    <script>

        require.config({ paths: { 'vs': '/js/libs/monaco-editor/min/vs' }});
        var tmd, editor;

        require(['vs/editor/editor.main'], function() {
          editor = monaco.editor.create(document.querySelector('#tutorial-code'), {
            value: [
              '// Welcome to Tutorial Markdown.',
              '// start scrolling, and we\'ll',
              '// write the code.'
            ].join('\n'),
            lineNumbersMinChars: 2,
            scrollBeyondLastLine: false,
            language: 'javascript',
            fontSize: 10,
            minimap: { enabled: false },
            hover: false,
            occurrencesHighlight: false
          })

          editor.getModel().updateOptions({ tabSize: 2 })

          tmd = new TutorialMarkdown({
            editor: {
              editor: editor,
               api: monaco
             },
             iframe: document.querySelector('.tutorial-frame'),
             markdownSelector: {
               blockSelector: '.tmd-trigger', 
               codeSelector: '.lntd:nth-child(2) .language-js' 
             }
          })
        })

        document.querySelector('.tutorial-send-code').addEventListener('click', function() {
          tmd.sendCode()
        })
    </script>

    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-121043299-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-121043299-1');
</script>
  </body>
</html>
