<!doctype html>
<html>
  <head>
    <title>Hypnotic Squares | Generative Artistry</title>

    <meta charset="utf-8">
    
    <meta name="description" content="William Kolomyjec was another great pioneer of generative art. This piece, &#34;Hypnotic Squares&#34;, is a great example of recursion in action. Generative art tutorials, news and love.">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet">
    <link href="../../css/style.css" rel="stylesheet">
    <link href="../../css/syntax-highlighting.css" rel="stylesheet">
  </head>
  <body class="tutorial">

    <header>
  <div class="wrapper">
    <a class="logo" href="../../index.html">generative artistry</a>
    <div class="links">
      <a href="../index.html">tutorials</a> • <a href="../../episodes/index.html">podcast</a> • <a href="../../index.xml.rss">rss</a>
    </div>
  </div>
</header>

    <div class="tutorial-post">
      
      <div class="sidebar tutorial-sidebar">

        <div id="tutorial-code" class="tutorial-code"></div>
        
        <div class="tutorial-send-code">
          <span>➵</span>
        </div>

        <iframe class="tutorial-frame" src="../../utils/injectable-iframe.html" sandbox="allow-same-origin allow-scripts"></iframe>

      </div>

      <div class="tutorial-content">
        

<h1 id="hypnotic-squares">Hypnotic Squares</h1>

<p><a href="http://dada.compart-bremen.de/item/agent/644">William Kolomyjec</a>&rsquo;s work is again reminiscent of some of the old school generative works, focusing on simple shapes, tiling and recursion.</p>

<p>Today we&rsquo;re going to replicate a piece of his called Hypnotic Squares.</p>

<p>The only HTML we have on the page is a <code>&lt;canvas&gt;</code> element at 320&times;320 pixels.</p>

<p>As usual, here is our initial setup. Using <code>window.devicePixelRatio</code> to scale the canvas on retina screens, and setting our canvas size.</p>

<div class="tmd-trigger" data-from="0">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;canvas&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">context</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s1">&#39;2d&#39;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">size</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">innerWidth</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">dpr</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">devicePixelRatio</span><span class="p">;</span>
<span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="nx">size</span> <span class="o">*</span> <span class="nx">dpr</span><span class="p">;</span>
<span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="nx">size</span> <span class="o">*</span> <span class="nx">dpr</span><span class="p">;</span>
<span class="nx">context</span><span class="p">.</span><span class="nx">scale</span><span class="p">(</span><span class="nx">dpr</span><span class="p">,</span> <span class="nx">dpr</span><span class="p">);</span>
<span class="nx">context</span><span class="p">.</span><span class="nx">lineWidth</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div>

</div>

<p>Now, to create this piece we&rsquo;re going to need to set a few variables, and then we will create our draw function. The goal will be to create a function that uses <code>recursion</code> to draw squares inside itself, until they reach a certain minimum size.</p>

<p>If you don&rsquo;t know much about recursion, that&rsquo;s totally ok! I will explain it as we go through.</p>

<div class="tmd-trigger" data-from="11">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">finalSize</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">startSize</span> <span class="o">=</span> <span class="nx">size</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">startSteps</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">width</span><span class="p">,</span> <span class="nx">height</span><span class="p">,</span> <span class="nx">xMovement</span><span class="p">,</span> <span class="nx">yMovement</span><span class="p">,</span> <span class="nx">steps</span><span class="p">)</span> <span class="p">{</span>
<span class="c1">// We will fill this in
</span><span class="c1"></span><span class="p">}</span>

<span class="nx">draw</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">startSize</span><span class="p">,</span> <span class="nx">startSize</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">startSteps</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div>

</div>

<p>The <code>steps</code> in the draw function, is how many times our square will recurse inwards. It&rsquo;s a fixed variable now, but we will be able to make it a little bit more random later.</p>

<p>The <code>finalSize</code> is the smallest square we want to draw, when our squares start to get this small, we&rsquo;ll stop drawing.</p>

<p>The <code>startSteps</code> will help us calculate a smaller and smaller square as we recurse.</p>

<p>Let&rsquo;s make our <code>draw</code> function draw. We&rsquo;ll start with just a plain square.</p>

<div class="tmd-trigger" data-from="16" data-to="17" data-indent="1">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">context</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span>
<span class="nx">context</span><span class="p">.</span><span class="nx">rect</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">width</span><span class="p">,</span> <span class="nx">height</span><span class="p">);</span>
<span class="nx">context</span><span class="p">.</span><span class="nx">stroke</span><span class="p">();</span>
</code></pre></td></tr></table>
</div>
</div>
</div>

<p>Now we have a single square, its time for some recursion. This means that the draw function will be calling itself over and over, until we reach a certain condition, this condition is pretty important, otherwise the loop will never end. We will use <code>steps</code> and count down.</p>

<div class="tmd-trigger" data-from="19" data-to="19" data-indent="1">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js">  
<span class="k">if</span><span class="p">(</span><span class="nx">steps</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">newSize</span> <span class="o">=</span> <span class="p">(</span><span class="nx">startSize</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">steps</span> <span class="err">/ startSteps) + finalSize;</span>
  <span class="kd">var</span> <span class="nx">newX</span> <span class="o">=</span> <span class="nx">x</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span> <span class="o">-</span> <span class="nx">newSize</span><span class="p">)</span> <span class="err">/ 2</span>
  <span class="kd">var</span> <span class="nx">newY</span> <span class="o">=</span> <span class="nx">y</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span> <span class="o">-</span> <span class="nx">newSize</span><span class="p">)</span> <span class="err">/ 2</span>
  <span class="nx">draw</span><span class="p">(</span><span class="nx">newX</span><span class="p">,</span> <span class="nx">newY</span><span class="p">,</span> <span class="nx">newSize</span><span class="p">,</span> <span class="nx">newSize</span><span class="p">,</span> <span class="nx">xMovement</span><span class="p">,</span> <span class="nx">yMovement</span><span class="p">,</span> <span class="nx">steps</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div>
</div>

<p>Woohoo, recursion! So let me explain whats going on above.</p>

<ul>
<li><code>newSize</code> is being calculated based on how many steps our square has remaining.</li>
<li><code>newX</code> &amp; <code>newY</code> is being calculated based on making sure the new square fits inside the previous one.</li>
<li>And then, the final parameter in the <code>draw</code> function is <code>steps - 1</code> which means we step closer and closer to 0.</li>
</ul>

<p>So you can see now if we change the <code>startSteps</code> variable, to a few differnt variations, we&rsquo;ll have different degrees of recursion.</p>

<div class="tmd-trigger" data-from="13" data-to="14">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">startSteps</span> <span class="o">=</span> <span class="mi">8</span><span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div>
</div>

<p>or</p>

<div class="tmd-trigger" data-from="13" data-to="14">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">startSteps</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div>
</div>

<p>We can see that randomizing this value will give us different outputs, but lets add a little more to it first. You can see the two variables <code>xMovement</code> and <code>yMovement</code>&hellip; we want to use these variables to &ldquo;tilt&rdquo; the squares in a certain direction.</p>

<p>First, I&rsquo;ll update the draw call, to represent this, with <code>xMovement</code> and <code>yMovement</code> both being 1. We will want this to tilt the square to the bottom right.</p>

<div class="tmd-trigger" data-from="28" data-to="29">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt">28
</span><span class="lnt">29
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">draw</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">startSize</span><span class="p">,</span> <span class="nx">startSize</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">startSteps</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div>
</div>

<p>And here&rsquo;s what we will do, to calculate this.</p>

<div class="tmd-trigger" data-from="24" data-to="24" data-indent="2">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">newX</span> <span class="o">=</span> <span class="nx">newX</span> <span class="o">-</span> <span class="p">((</span><span class="nx">x</span> <span class="o">-</span> <span class="nx">newX</span><span class="p">)</span> <span class="err">/ (steps + 2)) * xMovement</span>
<span class="nx">newY</span> <span class="o">=</span> <span class="nx">newY</span> <span class="o">-</span> <span class="p">((</span><span class="nx">y</span> <span class="o">-</span> <span class="nx">newY</span><span class="p">)</span> <span class="err">/ (steps + 2)) * yMovement</span>
</code></pre></td></tr></table>
</div>
</div>
</div>

<p>This looks a little complex&hellip; we&rsquo;re calculating how big each step is going to be (difference between the bigger and smaller square sizes) and then dividing it by how many steps are left. The 2 is to make sure that the new square never quite touches the line of the previous one.</p>

<p>Now, if we change around our draw function, you&rsquo;ll be able to see how it moves around and renders in different ways.</p>

<div class="tmd-trigger" data-from="30" data-to="31">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt">28
</span><span class="lnt">29
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">draw</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">startSize</span><span class="p">,</span> <span class="nx">startSize</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">startSteps</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div>
</div>

<div class="tmd-trigger" data-from="30" data-to="31">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt">30
</span><span class="lnt">31
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">draw</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">startSize</span><span class="p">,</span> <span class="nx">startSize</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nx">startSteps</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div>
</div>

<div class="tmd-trigger" data-from="30" data-to="31">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt">30
</span><span class="lnt">31
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">draw</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">startSize</span><span class="p">,</span> <span class="nx">startSize</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nx">startSteps</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div>
</div>

<div class="tmd-trigger" data-from="30" data-to="31">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt">30
</span><span class="lnt">31
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">draw</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">startSize</span><span class="p">,</span> <span class="nx">startSize</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nx">startSteps</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div>
</div>

<p>Ok, now that we have our draw function down, we&rsquo;re going to do something we did in our very first <a href="../tiled-lines/index.html">tiled lines</a> tutorial&hellip; and that is, tile!</p>

<p>Firstly some variables, about how often we will tile our squares, and a little offset to center the square a little more&hellip; we will make the final size smaller, and calculate <code>tileStep</code> to be the width of our <code>canvas</code> minus the <code>offset</code>divided by how many squares we want (<code>7</code>). And then, a final array of all the possible directions we can go in <code>-1, 0 &amp; 1</code></p>

<div class="tmd-trigger" data-from="11" data-to="14">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">finalSize</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">startSteps</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">offset</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">tileStep</span> <span class="o">=</span> <span class="p">(</span><span class="nx">size</span> <span class="o">-</span> <span class="nx">offset</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="err">/ 7;</span>
<span class="kd">var</span> <span class="nx">startSize</span> <span class="o">=</span> <span class="nx">tileStep</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">directions</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">];</span>
</code></pre></td></tr></table>
</div>
</div>
</div>

<p>Yep, it looks broken, because we&rsquo;re now going to use these variables to draw the tiles across our screen.</p>

<div class="tmd-trigger" data-from="33" data-to="34">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="k">for</span><span class="p">(</span> <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">offset</span><span class="p">;</span> <span class="nx">x</span> <span class="o">&lt;</span> <span class="nx">size</span> <span class="o">-</span> <span class="nx">offset</span><span class="p">;</span> <span class="nx">x</span> <span class="o">+=</span> <span class="nx">tileStep</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">for</span><span class="p">(</span> <span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="nx">offset</span><span class="p">;</span> <span class="nx">y</span> <span class="o">&lt;</span> <span class="nx">size</span> <span class="o">-</span> <span class="nx">offset</span><span class="p">;</span> <span class="nx">y</span> <span class="o">+=</span> <span class="nx">tileStep</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">startSteps</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="nx">draw</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">startSize</span><span class="p">,</span> <span class="nx">startSize</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">startSteps</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div>
</div>

<p>Now we&rsquo;re really set up to play. We can add a random amount of steps.</p>

<div class="tmd-trigger" data-from="35" data-to="36" data-indent="2">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt">35
</span><span class="lnt">36
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">startSteps</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">+</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="mi">3</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div>
</div>

<p>And some random directions!</p>

<div class="tmd-trigger" data-from="36" data-to="37" data-indent="2">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">xDirection</span> <span class="o">=</span> <span class="nx">directions</span><span class="p">[</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="nx">directions</span><span class="p">.</span><span class="nx">length</span><span class="p">)]</span>
<span class="kd">var</span> <span class="nx">yDirection</span> <span class="o">=</span> <span class="nx">directions</span><span class="p">[</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="nx">directions</span><span class="p">.</span><span class="nx">length</span><span class="p">)]</span>
<span class="nx">draw</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">startSize</span><span class="p">,</span> <span class="nx">startSize</span><span class="p">,</span> <span class="nx">xDirection</span><span class="p">,</span> <span class="nx">yDirection</span><span class="p">,</span> <span class="nx">startSteps</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div>
</div>

<p>And there we have it! Hypnotic Squares. This is a great example of some beautiful use of recursion, as well as the kind of art piece that can easily be expanded with some color, especially on a slightly larger canvas.</p>

        <form action="https://codepen.io/pen/define" method="POST" target="_blank">
  <input type="hidden" name="data" value='{}'>
  ↪ You can edit the code above, and have it run by pressing the arrow between the code and demo, but if you like, you can also play around a little with this code <input type="submit" id="codepen-prefil" value="on CodePen">
</form>
      </div>
    </div>
    
    <footer>
	<div class="wrapper">
		<div class="links">
			By <a href="https://ruthjohn.com/" target="_blank" rel="noopener noreferrer">ruth</a> &
			<a href="https://tholman.com" target="_blank" rel="noopener noreferrer">tim</a> •
			<a href="https://github.com/tholman/generative-artistry/">source</a>
		</div>
    <a href="https://www.buymeacoffee.com/tholman" target="_blank" class="coffee" rel="noopener noreferrer">☕</a>
	</div>
</footer>


    <script src="../../js/tmd.js"></script>
    <script src="../../js/codepen-prefil.js"></script>
    <script src="../../js/favicon.js"></script>
    <script src="../../js/libs/monaco-editor/min/vs/loader.js"></script>

    <script>

        require.config({ paths: { 'vs': '/js/libs/monaco-editor/min/vs' }});
        var tmd, editor;

        require(['vs/editor/editor.main'], function() {
          editor = monaco.editor.create(document.querySelector('#tutorial-code'), {
            value: [
              '// Welcome to Tutorial Markdown.',
              '// start scrolling, and we\'ll',
              '// write the code.'
            ].join('\n'),
            lineNumbersMinChars: 2,
            scrollBeyondLastLine: false,
            language: 'javascript',
            fontSize: 10,
            minimap: { enabled: false },
            hover: false,
            occurrencesHighlight: false
          })

          editor.getModel().updateOptions({ tabSize: 2 })

          tmd = new TutorialMarkdown({
            editor: {
              editor: editor,
               api: monaco
             },
             iframe: document.querySelector('.tutorial-frame'),
             markdownSelector: {
               blockSelector: '.tmd-trigger', 
               codeSelector: '.lntd:nth-child(2) .language-js' 
             }
          })
        })

        document.querySelector('.tutorial-send-code').addEventListener('click', function() {
          tmd.sendCode()
        })
    </script>

    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-121043299-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-121043299-1');
</script>
  </body>
</html>
